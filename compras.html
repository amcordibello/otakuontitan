<!DOCTYPE html>
<html>
	<head>
		<title>
			Otaku on Titan - Compras
		</title>
		<link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>
		<link href='https://fonts.googleapis.com/css?family=Muli' rel='stylesheet'>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body>	
	<header class="imgLogo">
			<img src="OtakuOnTitan_topo.png">
		</header>
	
		<nav class="menu">
			<a class="botao" href="otakuontitanhtml5.html" target="_blank">in&iacute;cio</a>
			<a class="botao" href="destaques.html" target="_blank">destaques</a>
			<a class="botao" href="catalogo.html" target="_blank">cat&aacute;logo</a>
			<a class="botao" href="compras.html" target="_blank">compras</a>
		</nav>
		
		<section>
		
		<script language="javascript">
		
			function calculaDV(num) { 
					var resto = 0, soma = 0; for (i = 2; i < 11; i++)
					{ soma = soma + ((num % 10) * i); num = parseInt(num / 10); } 
					resto = (soma % 11); 
					return (resto > 1) ? (11 - resto) : 0; 
				}
				
			function FuncaoCPF() {
				var cpf = document.getElementById("idcpf").value;
				 
				if(cpf.length != 11) alert("CPF tem de ter 11 dígitos!");
				if(isNaN(cpf)) alert("CPF só pode ter dígitos, caracter inválido!");
				
				primeiro_digito = calculaDV(cpf);
				segundo_digito = calculaDV(cpf * 10 + primeiro_digito);
				
				dig = cpf.split('')
				
				if(parseInt(dig[0]) != primeiro_digito || parseInt(dig[1]) != segundo_digito) alert("Dígitos verificadores inválidos!");
				
			}
		</script>
		
		
			<h3 class="comp"><p>Compras</h3></p>
			<form method="POST">
				<fieldset class="fsDados"><legend>Dados pessoais</legend>
					<p></p>
					<div class="divLinha">
						<label class="colPri" for="idname">Nome:</label>
						<input class="inpGrande" id="idname" type="text" name="txtname" required />
					<p>
						<label class="colPri" for="idend">Endereço:</label>
						<input class="inpGrande" id="idend" type="text" name="txtend" required /></p>
					</div>
					<div class="meiaLinEsq">
					<p>
						<label class="colPri" for="idcpf">CPF:</label>
						<input class="inpMedio" id="idcpf" type="text" name="txtcpf" onchange="FuncaoCPF()" required /></p>
					<p>
						<label class="colPri" for="idtel">Telefone:</label>
						<input class="inpTelef" id="idtel" type="tel" name="tel" pattern="([0-9]{2})[0-9]{4}-[0-9]{4}" required /></p>
					<p>
						<label class="colPri" for="idcel">Celular:</label>
						<input class="inpTelef" id="idcel" type="tel" name="cel" pattern="([0-9]{2})[0-9]{5}-[0-9]{4}" required /></p>
					</div>
						<div class="meiaLinDir">
						<fieldset class="fsDir"><legend>Nascimento:</legend>
								<input class="numDD" id="iddia" type="number" name="data" required />
								/
								<input class="numDD" id="idmes" type="number" name="data" required />
								/
								<input class="numQD" id="idano" type="number" name="data" required />
						</fieldset>
						<fieldset class="fsDir"><legend>Gênero:</legend>
								<input id="idmas" type="radio" name="gender" required />
								<label for="idmas">Mas</label>
								<input id="idfem" type="radio" name="gender" required />
								<label for="idfem">Fem</label>
								<input id="idoutro" type="radio" name="gender" required />
								<label for="idoutro">Outro</label>
						</fieldset>
					</dir>
				</fieldset>
				<fieldset class="fsDados"><legend>Seleção de Produtos e Pagamento:</legend>
					<div class="divLinha">
						<p>	
						Produtos:
												
						<script language="javascript">
						var soma = 0;
						var prod_list = '';
						
						function FuncaoComprar() {
							var a = document.getElementById("idprod");
							var b = a.options[a.selectedIndex].text;
							
							prod_list = prod_list.concat(b,'\n');
							
							soma = soma + parseInt(a.value)
							
							if(parseInt(a)==0) {
								alert("Nenhum produto selecionado!");}
							else {
								document.getElementById("idvalor").innerHTML = soma+",00";
								document.getElementById("prodsel").innerHTML = prod_list; }
							
						}
						</script>
						
						<select id="idprod">
						<option value="0"> ------ </option>
							<optgroup label="Anime">
								<option value="85,00" name="test">Death Note - DVD - Completo</option>
								<option value="60,00">Naruto Shippuden T01 Box 01</option>  
								<option value="60,00">Naruto Shippuden T01 Box 02</option>
							</optgroup>
							<optgroup label="Mangá">
								<option value="1000,00">Naruto Gold - 55 Vol.</option>     
								<option value="130,00">Attack on Titan - Vol 1-4</option>     
								<option value="130,00">Attack on Titan - Vol 5-8</option>
								<option value="600,00">Naruto Box P01 Vol 1-27</option>
							</optgroup>
							<optgroup label="Action Figure">
								<option value="210,00">Naruto Shippuden - PVC</option>     
								<option value="250,00">Ryuk - Death Note - PVC</option>     
							</optgroup>
						<input class="botoes" type="button" onclick="FuncaoComprar()" value="Comprar"></p>
						
					<fieldset class="fsEsq"><legend>Dados do Cartão:</legend>
						<fieldset class="fsEsq"><legend>Bandeira:</legend>
								<input id="idvisa" type="radio" name="cartao" required />
								<label for="idvisa">Visa</label>
								<input id="idmaster" type="radio" name="cartao" required />
								<label for="idmaster">Master</label>
								<input id="idamex" type="radio" name="cartao" required />
								<label for="idamex">Amex</label>
						</fieldset>
							<p>
							<label for="val">Validade:</label>
							<input class="numDD" id="idval" type="number" name="val" required />
							/
							<input class="numQD" id="idano" type="number" name="val" required /></p>
							<p>
							<label for="cardnum">Número:</label>
							<input class="inpNCC" id="idcardnum" type="text" size="16" name="cardnum" required /></p>			
					</fieldset>
					
					<div class="meiaLinDir">
						<textarea class="elemDir" id="prodsel" name="prodsel" rows="10" cols="24" readonly></textarea>
						<label class="colPri" for="idvalor">Valor: R$</label>
						<textarea class="inpvalor" id="idvalor" name="valor" readonly></textarea>
					</div>
					
				</fieldset>
					<input class="botoes" type="button" onclick="alert('Enviado!')" value="Enviar">
					<input class="botoes" type="reset" value="Limpar">					
			</form>
		</section>

		<footer class="ender">
			Avenida Akihabara, 123 / Tel: (21) 91234-5678 / <a href="contato@manganime.com.br" target="_blank"> contato@manganime.com.br </a>
		</footer>
		
	</body>
</html>
